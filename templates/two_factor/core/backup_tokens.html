{% extends "two_factor/_base_focus.html" %}
{% load i18n %}
{% load crispy_forms_tags %}
{% block head_title %}
  {% trans "Backup Tokens" %}
{% endblock head_title %}
{% block content %}
  <div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8">
      <div class="card bg-base-100 shadow-xl transition-all duration-300 hover:shadow-2xl">
        <div class="card-body">
          <h1 class="text-2xl font-bold text-center">
            {% block title %}
              {% trans "Backup Tokens" %}
            {% endblock title %}
          </h1>
          <p class="mt-4 text-center">
            {% blocktrans trimmed %}
              Backup tokens can be used when your primary and backup
              phone numbers aren't available. The backup tokens below can be used
              for login verification. If you've used up all your backup tokens, you
              can generate a new set of backup tokens. Only the backup tokens shown
              below will be valid.
            {% endblocktrans %}
          </p>
          {% if device.token_set.count %}
            <ul class="list-disc list-inside mt-4">
              {% for token in device.token_set.all %}<li class="text-center">{{ token.token }}</li>{% endfor %}
            </ul>
            <p class="mt-4 text-center">{% trans "Print these tokens and keep them somewhere safe." %}</p>
          {% else %}
            <p class="mt-4 text-center">{% trans "You don't have any backup codes yet." %}</p>
          {% endif %}
          <form method="post" class="mt-8 space-y-6">
            {% csrf_token %}
            {{ form|crispy }}
            <div class="flex justify-between items-center">
              <a href="{% url 'two_factor:profile' %}"
                 class="btn btn-link text-primary hover:underline">{% trans "Back to Account Security" %}</a>
              <button class="btn btn-primary" type="submit">{% trans "Generate Tokens" %}</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}
